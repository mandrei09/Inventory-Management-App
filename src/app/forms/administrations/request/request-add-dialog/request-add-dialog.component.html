<div class="full-width-add-edit-dialog" *transloco="let t; read: 'page_request_add_edit'">
  <div class="modal-dialog-header">
    <h2 class="modal-title mb-0">DETAILS</h2>
    <button type="button" class="btn-close" mat-dialog-close></button>
  </div>

  <mat-dialog-content class="mat-typography" (click)="$event.stopPropagation()">
    <div class="modal-dialog-body">
      <div class="container">
        <div class="row">
          <form>
            <div class="row mx-auto">
              <div class="col-10 mx-auto">
                <div class="mb-5">
                  <mat-tab-group mat-stretch-tabs="false" color="transparent">
                    <mat-tab label="General">
                      <div class="row mt-3">
                        <div class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Selectie Owner:
                            </label>
                            <employee-item-select class="form-group-select_wrapper" [(ngModel)]="employees" placeholder="Selecteaza owner">
                            </employee-item-select>
                          </div>
                        </div>

                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Asset:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="asset.invNo" name="invNo" #invNo="ngModel">
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              SNo:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="asset.subNo" name="subNo" #subNo="ngModel">
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Cantitate:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="asset.quantity" name="quantity">
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Descriere:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="asset.name" name="name" #name="ngModel">
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Valoare RON:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="asset.valueInvRon" name="valueInvRon" #valueInvRon="ngModel">
                          </div>
                        </div>
                      </div>
                    </mat-tab>
                    <mat-tab label="Time-dependent">
                      <div class="row mt-3">
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Centru de cost:
                            </label>
                            <cost-centers-item-select class="form-group-select_wrapper" [(ngModel)]="costCenter" placeholder="Selecteaza centru de cost">
                            </cost-centers-item-select>
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Plant:
                            </label>
                            <input matInput type="text" class="form-control" value="RO02" name="plant">
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Location:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="location" name="location">
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Room:
                            </label>
                            <input matInput type="text" class="form-control" [(ngModel)]="location" name="room">
                          </div>
                        </div>

                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Person:
                            </label>
                            <employee-item-select class="form-group-select_wrapper" [(ngModel)]="employee" displayValue="full-name" placeholder="Selecteaza angajat">
                            </employee-item-select>
                          </div>
                        </div>
                      </div>
                    </mat-tab>
                    <mat-tab label="Allocations">
                      <div class="row mt-3">
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Centru de cost:
                            </label>
                            <cost-centers-item-select class="form-group-select_wrapper" [(ngModel)]="costCenter" placeholder="Selecteaza centru de cost">
                            </cost-centers-item-select>
                          </div>
                        </div>
                        <div *ngIf="asset !== null" class="col-md-4">
                          <div class="form-group inputs-modal-nomenclature mb-4 d-flex" style="display:grid !important;">
                            <label>
                              Plant:
                            </label>
                            <input matInput type="text" class="form-control" value="RO02" name="plant">
                          </div>
                        </div>
                      </div>
                    </mat-tab>
                  </mat-tab-group>
                </div>

                <div class="mt-5 mb-5">
                  <div class="row mt-3">
                    <div class="col-12 attributes">
                      <div class="files-header mb-2">
                        <span class="mr-15 my-auto">Operatii ({{ budgetOpDetailList.totalItems }})</span>
                      </div>
                      <hr class="mb-3">
                      <div>
                        <div class="table-responsive border-1-gray">
                          <budget-op-detail-list #budgetOpDetailList id="budgetOpDetailList"
                                                 [dataSource]="budgetOpHttpService"
                                                 showSimpleSearch="false"
                                                 listTemplate="BUDGET_OPERATIONS"
                                                 detailType="details"
                                                 sortColumn="modifiedAt"
                                                 sortDirection="asc"
                                                 dynamicQuery="true"
                                                 rowSelection="single"
                                                 notifyOnChange="true"
                                                 (selectionChanged)="onAssetOpDetailListSelectionChanged($event)"
                                                 usePaging="true">
                          </budget-op-detail-list>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close class="btn gray-btn-outline" (click)="cancelChanges()">Inchide</button>
    <button mat-button
            class="btn blue-btn"
            type="submit"
            (click)="updateAsset()" [disabled]="!allowSaving || !isSaved || budgetValueNeed != 0"
    >Receptioneaza</button>
  </mat-dialog-actions>

</div>
