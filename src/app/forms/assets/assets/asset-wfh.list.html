<p-table [resizableColumns]="true" #dt1 [autoLayout]="true" [value]="tableItems"  [rows]="10" [resizableColumns]="true"
[rowsPerPageOptions]="[10,25,50]" [loading]="loading"
[lazy]="true"
(onLazyLoad)="loadData($event)"  [totalRecords]="totalItems" styleClass="p-datatable-sm"
[paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" (onPage)="pageChanged($event)" [columns]="columns">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th style="width: max-content; font-size: 12px;background-color: rgb(52, 30, 22);color: white;">
				<button *ngIf="!isAllChecked()" (click)="updateCheckState(true)" class="btn btn-light btn-sm" ><i class="pi pi-check"></i></button>
				<button *ngIf="isAllChecked()" (click)="updateCheckState(false)" class="btn btn-success btn-sm" ><i class="pi pi-check"></i></button>
		</th>
            <th *ngFor="let column of columns" [pSortableColumn]="((column.include && (column.include.length > 0)) ? column.include + '.' : '') + column.sortBy" style="width: max-content; font-size: 12px;background-color: rgb(52, 30, 22);color: white;">
                {{column.headerCode}}
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr (click)="rowData.selected ? unselectItem(rowData.item) : selectItem(rowData.item)">
            <td>
				<button *ngIf="!rowData.selected" class="btn btn-light btn-sm" type="button"><i class="pi pi-times"></i></button>
				<button *ngIf="rowData.selected"  class="btn btn-success btn-sm" type="button"><i class="pi pi-check"></i></button>
				<!-- <button *ngIf="!tableItem.selected" pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger p-button-sm"></button> -->
				<!-- <button *ngIf="tableItem.selected"  class="rounded-button ui-button-outlined" type="button"><i class="pi pi-check"></i></button> -->
				<!-- <button *ngIf="tableItem.selected"  pButton type="button" class="p-button-rounded p-button-success p-button-sm" icon="pi pi-check"></button> -->

				<!-- <button *ngIf="tableItem.selected" pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded p-button-success p-button-sm"></button> -->
			</td>
      <th>
        Modifica
      </th>
            <td *ngFor="let col of columns">
                {{rowData.item | fieldByColumnDefinition: col}}
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="footer" let-columns>
        <tr>
          <td><label class="switch"><input [disabled]="tableItem.item.readOnly" type="checkbox" [checked]="tableItem.item.isMinus" [(ngModel)]="tableItem.item.isMinus" [value]="tableItem.item.isMinus" (change)="onAllowLabelUpdate(tableItem)"><span class="slider round"></span></label></td>
            <td *ngFor="let col of columns">
                {{
                    col.headerCode === 'APC FY start' ? totals?.apcfyStart :
                    col.headerCode === 'Dep. FY start' ? totals?.depFYStart :
                    col.headerCode === 'Bk.val.FY strt' ? totals?.bkValFYStart :
                    col.headerCode === 'Acquisition' ? totals?.acquisition :
                    col.headerCode === 'Dep. for year' ? totals?.depForYear :
                    col.headerCode === 'Retirement' ? totals?.retirement :
                    col.headerCode === 'Dep.retir.' ? totals?.depRetirement :
                    col.headerCode === 'Curr.bk.val.' ? totals?.currBkValue :
                    col.headerCode === 'Current APC' ? totals?.currentAPC :
                    col.headerCode === 'Accumul. dep.' ? totals?.accumulDep :
                    0 | number : '1.2-2' }}
            </td>
        </tr>
    </ng-template>
</p-table>

  <!-- <div class='table-responsive'>
    <button mat-raised-button (click)="tables.push(tables.length)">Add table</button>
    <button mat-raised-button (click)="tables.pop()">Remove table</button>
  </div> -->

  <div style="display: none">
    Sticky Headers:
    <mat-button-toggle-group multiple [value]="['header-1']"
                             #stickyHeaders="matButtonToggleGroup"
                             class="example-sticky-toggle-group">
      <mat-button-toggle value="header-1"> Row 1 </mat-button-toggle>
      <mat-button-toggle value="header-2"> Row 2 </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div style="display: none">
    Sticky Footers:
    <mat-button-toggle-group multiple [value]="['footer-1']"
                             #stickyFooters="matButtonToggleGroup"
                             class="example-sticky-toggle-group">
      <mat-button-toggle value="footer-1"> Row 1 </mat-button-toggle>
      <mat-button-toggle value="footer-2"> Row 2 </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div>
    <mat-button-toggle-group multiple [value]="['totalLeft', 'totalRight']"
                             #stickyColumns="matButtonToggleGroup"
                             class="example-sticky-toggle-group">
      <mat-button-toggle value="total"> Total </mat-button-toggle>
      <mat-button-toggle value="apcfyStart"> APC FY start </mat-button-toggle>
      <mat-button-toggle value="depFYStart"> Dep. FY start </mat-button-toggle>
      <mat-button-toggle value="june"> June </mat-button-toggle>
      <mat-button-toggle value="july"> July </mat-button-toggle>
      <mat-button-toggle value="august"> August </mat-button-toggle>
      <mat-button-toggle value="september"> September </mat-button-toggle>
      <mat-button-toggle value="octomber"> Octomber </mat-button-toggle>
      <mat-button-toggle value="november"> November </mat-button-toggle>
      <mat-button-toggle value="december"> December </mat-button-toggle>
      <mat-button-toggle value="january"> January </mat-button-toggle>
      <mat-button-toggle value="february"> February </mat-button-toggle>
      <mat-button-toggle value="march"> March </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div class="example-container mat-elevation-z8">

    <mat-form-field appearance="standard" *ngIf="showSimpleSearch === 'true'">
      <mat-label>Filter</mat-label>
      <input matInput [(ngModel)]="filterSearch" (change)="applySimpleSearchFilter(filterSearch)" placeholder="Ex. ium" #input>
    </mat-form-field>


    <table mat-table [dataSource]="dataSourceMT" *ngFor="let table of tables" matSort>

      <!-- <ng-container matColumnDef="totalLeft" [sticky]="isSticky(stickyColumns, 'total')">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Total </th>
        <td mat-cell *matCellDef="let element"> {{element.item?.total | number : '1.2-2'}}
        </td>
        <td mat-footer-cell *matFooterCellDef> {{totals?.total | number : '1.2-2'}} </td>
      </ng-container> -->

      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>

            <mat-checkbox (change)="$event ? updateAllSelection($event.checked) : null"
            [checked]="isAllSelected()"
            [indeterminate]="(this._selectedItems.length > 0) && !isAllSelected()"
            *ngIf="rowSelection === 'multiple'">
            </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let element">
            <mat-checkbox (click)="$event.stopPropagation()"
            (change)="$event ? updateItemSelection(element) : null"
            [checked]="element.selected"
            [indeterminate]="element.disabled"
            [disabled]="element.disabled">
            </mat-checkbox>
        </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <ng-container *ngFor="let columnDef of columnDefs" [matColumnDef]="columnDef.headerCode" [sticky]="isSticky(stickyColumns, columnDef.headerCode)">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ columnDef.headerCode }} </th>
        <td mat-cell *matCellDef="let element"> {{ element.item | fieldByColumnDefinition: columnDef }} </td>
        <td mat-footer-cell *matFooterCellDef>

            {{
              columnDef.headerCode === 'APC FY start' ? totals?.apcfyStart :
              columnDef.headerCode === 'Dep. FY start' ? totals?.depFYStart : 0 | number : '1.2-2'}}

        </td>
      </ng-container>

      <!-- <ng-container matColumnDef="totalRight" [sticky]="isSticky(stickyColumns, 'total')">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Total </th>
        <td mat-cell *matCellDef="let element"> {{element.item?.total | number : '1.2-2'}} </td>
        <td mat-footer-cell *matFooterCellDef> {{totals?.total | number : '1.2-2'}} </td>
      </ng-container> -->

      <ng-container matColumnDef="filler">
        <th mat-header-cell *matHeaderCellDef> Filler header cell </th>
        <td mat-cell *matCellDef="let element"> Filler data cell </td>
        <td mat-footer-cell *matFooterCellDef> Filler footer cell </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: isSticky(stickyHeaders, 'header-1')"></tr>
      <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: isSticky(stickyHeaders, 'header-2')"></tr> -->

      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="row.selected ? unselectItem(row.item) : selectItem(row.item)"></tr>

      <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: isSticky(stickyFooters, 'footer-1')"></tr>
      <!-- <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: isSticky(stickyFooters, 'footer-2')"></tr> -->
    </table>
    {{totalItems}}
    <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100, 500, 1000]"
                [length]="totalItems"
                (page)="changePage($event)"
                [pageSize]="10"
                 showFirstLastButtons>
  </mat-paginator>
  <!-- <mat-paginator showFirstLastButtons="true" [length]="totalItems"
  [pageSize]="10"
  [pageSizeOptions]="[ 10, 15, 20, 25, 50, 100 ]" (page)="changePage($event)">
</mat-paginator> -->
  </div>




  <!-- <div class="content-page-header-two d-flex">
    <div class="left-actions d-flex">
      <div class="refresh">
        <a [routerLink]="" (click)="refreshItems()">
          <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.6719 3.32812L16.0156 0.984375V8.01562H8.98438L12.2188 4.78125C11.0312 3.59375 9.625 3 8 3C6.34375 3 4.92188 3.59375 3.73438 4.78125C2.57812 5.9375 2 7.34375 2 9C2 10.6562 2.57812 12.0781 3.73438 13.2656C4.92188 14.4219 6.34375 15 8 15C9.15625 15 10.2812 14.6094 11.375 13.8281C12.5 13.0469 13.2656 12.1094 13.6719 11.0156H15.7344C15.2969 12.7656 14.3594 14.2031 12.9219 15.3281C11.4844 16.4531 9.84375 17.0156 8 17.0156C5.8125 17.0156 3.9375 16.2344 2.375 14.6719C0.8125 13.1094 0.03125 11.2188 0.03125 9C0.03125 6.78125 0.8125 4.89062 2.375 3.32812C3.9375 1.76563 5.8125 0.984375 8 0.984375C8.9375 0.984375 9.95312 1.21875 11.0469 1.6875C12.1719 2.125 13.0469 2.67188 13.6719 3.32812Z"/>
          </svg>
        </a>
      </div>
    </div>
    <div class="results d-flex">
      <span>Total: {{ totalItems }}</span>
    </div>
  </div>

  <div class="example-container mat-elevation-z8">
    <table
      mat-table
      [dataSource]="dataSourceMT"
      matSort
      (matSortChange)="sortData($event)"
      class="mat-elevation-z8"
    >

      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef class="width-50 text-center">
          <mat-checkbox (change)="$event ? updateAllSelection($event.checked) : null"
                        [checked]="isAllSelected()"
                        [indeterminate]="(this._selectedItems.length > 0) && !isAllSelected()"
                        *ngIf="rowSelection === 'multiple'">
          </mat-checkbox>
        </th>
        <td mat-cell class="text-center" *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? updateItemSelection(row) : null"
                        [checked]="row.selected"
                        [indeterminate]="row.disabled"
                        [disabled]="row.disabled">
          </mat-checkbox>
        </td>
      </ng-container>

      <ng-container *ngFor="let columnDef of columnDefs" [matColumnDef]="columnDef.headerCode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ columnDef.headerCode }} </th>
        <td class="resize-handle" mat-cell *matCellDef="let element"> {{ element.item | fieldByColumnDefinition: columnDef }} </td>
      </ng-container>

      <ng-container>
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center px-5 empty-table-row" colspan="9999">
            No data found.
          </td>
        </tr>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="updateItemSelection(row)"></tr>
    </table>
  </div>
    <mat-paginator showFirstLastButtons="true" [length]="totalItems"
    [pageSize]="10"
    [pageSizeOptions]="[ 10, 15, 20, 25, 50, 100 ]" (page)="changePage($event)">
    </mat-paginator> -->

  <!-- <p-table [resizableColumns]="true" #dt1 [autoLayout]="true" [value]="tableItems"  [rows]="10" [resizableColumns]="true"
	[rowsPerPageOptions]="[10,25,50]" [loading]="loading"
    [lazy]="true"
    (onLazyLoad)="loadData($event)"  [totalRecords]="totalItems" styleClass="p-datatable-sm"
	[paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" (onPage)="pageChanged($event)">
	<ng-template pTemplate="header" >
		<tr>
			<th style="width: max-content; font-size: 12px;background-color: rgb(52, 30, 22);color: white;">
				<button *ngIf="!isAllChecked()" (click)="updateCheckState(true)" class="btn btn-light btn-sm" ><i class="pi pi-check"></i></button>
				<button *ngIf="isAllChecked()" (click)="updateCheckState(false)" class="btn btn-success btn-sm" ><i class="pi pi-check"></i></button>
		</th>
            <th *ngFor="let column of columns" [pSortableColumn]="((column.include && (column.include.length > 0)) ? column.include + '.' : '') + column.sortBy" style="width: max-content; font-size: 12px;background-color: rgb(52, 30, 22);color: white;">

				<div class="p-d-flex p-jc-between p-ai-center">
                        {{column.headerCode}}
                    <p-sortIcon [field]="((column.include && (column.include.length > 0)) ? column.include + '.' : '') + column.sortBy"></p-sortIcon>
				</div>
			</th> -->
             <!-- <th pSortableColumn="invState.name">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Stare
                    <p-sortIcon field="invState.name"></p-sortIcon>
                    <p-columnFilter field="invState" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false" class="p-ml-auto">
                        <ng-template pTemplate="header">
                            <div class="p-px-3 p-pt-3 p-pb-0">
                                <span class="p-text-bold">Selectie stare</span>
                            </div>
                        </ng-template>
                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                            <p-multiSelect [ngModel]="value" [options]="invStates" placeholder="Any" (onChange)="applyInvStateFilter($event.value)" optionLabel="name">
                                <ng-template let-option pTemplate="item">
                                    <div class="p-multiselect-representative-option"> -->
                                        <!-- <img [alt]="option.label" src="assets/showcase/images/demo/avatar/{{option.image}}" width="32" style="vertical-align: middle" /> -->
                                        <!-- <span class="p-ml-1">{{option.name}}</span>
                                    </div>
                                </ng-template>
                            </p-multiSelect>
                        </ng-template>
                    </p-columnFilter>
                </div>
            </th> -->
		<!-- </tr>
	</ng-template>
	<ng-template pTemplate="body" let-tableItem let-expanded="expanded">
        <tr (click)="tableItem.selected ? unselectItem(tableItem.item) : selectItem(tableItem.item)">
			<td>
				<button *ngIf="!tableItem.selected" class="btn btn-light btn-sm" type="button"><i class="pi pi-times"></i></button>
				<button *ngIf="tableItem.selected"  class="btn btn-success btn-sm" type="button"><i class="pi pi-check"></i></button>
			</td>
            <td *ngFor="let column of columns"  style="width: max-content; font-size: 12px;white-space: nowrap" selectionMode="multiple">{{ tableItem.item | fieldByColumnDefinition: column }}</td>
        </tr>
	</ng-template>
    <ng-template pTemplate="footer">
        <tr>
                <td><span style="color: blue">APC FY start</span></td>
                <td><span style="color: blue">{{ totals?.apcfyStart | number : '1.2-2' }} RON</span></td>
                <td><span style="color: slateblue">Dep, FY start</span></td>
                <td><span style="color: slateblue">{{ totals?.depFYStart | number : '1.2-2' }} RON</span></td>
                <td><span style="color: goldenrod">Bk,val,FY strt</span></td>
                <td><span style="color: goldenrod">{{ totals?.bkValFYStart | number : '1.2-2' }} RON</span></td>
                <td><span style="color: fuchsia">Acquisition</span></td>
                <td><span style="color: fuchsia">{{ totals?.acquisition | number : '1.2-2' }} RON</span></td>
                <td><span style="color: darkmagenta">Dep, for year</span></td>
                <td><span style="color: darkmagenta">{{ totals?.depForYear | number : '1.2-2' }} RON</span></td>
                <td><span style="color: coral">Retirement</span></td>
                <td><span style="color: coral">{{ totals?.retirement | number : '1.2-2' }} RON</span></td>
                <td><span style="color: blueviolet">Dep,retir</span></td>
                <td><span style="color: blueviolet">{{ totals?.depRetirement | number : '1.2-2' }} RON</span></td>
                <td><span style="color: orange">Curr bk val</span></td>
                <td><span style="color: orange">{{ totals?.currBkValue | number : '1.2-2' }} RON</span></td>
                <td><span style="color: red">Current APC</span></td>
                <td><span style="color: red">{{ totals?.currentAPC | number : '1.2-2' }} RON</span></td>
                <td><span style="color: blue">Accumul, dep</span></td>
                <td><span style="color: blue">{{ totals?.accumulDep | number : '1.2-2' }} RON</span></td>
        </tr>
    </ng-template>
</p-table> -->

<!-- <p-table #dt [autoLayout]="true" [responsive]="true" [value]="tableItems" [(selection)]="selectedCustomers" dataKey="id" styleClass="p-datatable-sm" [rowHover]="true"
    [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading"
    [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [filterDelay]="0" [globalFilterFields]="['name','country.name','invState.name','status']">
    <ng-template pTemplate="caption">
        <div class="table-header">
            Lista echipamente
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Global Search" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr> -->
            <!-- <th style="width: 3rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th> -->
            <!-- <th pSortableColumn="invNo">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Asset
                    <p-sortIcon field="invNo"></p-sortIcon>
                    <p-columnFilter type="text" field="invNo" display="menu" class="p-ml-auto"></p-columnFilter>
                </div>
            </th>
            <th pSortableColumn="subNo">
                <div class="p-d-flex p-jc-between p-ai-center">
                    SubNo
                    <p-sortIcon field="subNo"></p-sortIcon>
                    <p-columnFilter type="text" field="subNo" display="menu" class="p-ml-auto"></p-columnFilter>
                </div>
            </th>
            <th pSortableColumn="name">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Name
                    <p-sortIcon field="name"></p-sortIcon>
                    <p-columnFilter type="text" field="name" display="menu" class="p-ml-auto"></p-columnFilter>
                </div>
            </th>
            <th pSortableColumn="serialNumber">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Serie
                    <p-sortIcon field="serialNumber"></p-sortIcon>
                    <p-columnFilter type="text" field="serialNumber" display="menu" class="p-ml-auto"></p-columnFilter>
                </div>
            </th> -->
            <!-- <th pSortableColumn="invState.name">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Stare
                    <p-sortIcon field="invState.name"></p-sortIcon>
                    <p-columnFilter type="text" field="invState.name" display="menu" class="p-ml-auto"></p-columnFilter>
                </div>
            </th> -->
           <!-- <th pSortableColumn="invState.name">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Stare
                    <p-sortIcon field="invState.name"></p-sortIcon>
                    <p-columnFilter field="invState" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false" class="p-ml-auto">
                        <ng-template pTemplate="header">
                            <div class="p-px-3 p-pt-3 p-pb-0">
                                <span class="p-text-bold">Selectie stare</span>
                            </div>
                        </ng-template>
                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                            <p-multiSelect [ngModel]="value" [options]="invStates" placeholder="Any" (onChange)="applyInvStateFilter($event.value)" optionLabel="name">
                                <ng-template let-option pTemplate="item">
                                    <div class="p-multiselect-representative-option"> -->
                                        <!-- <img [alt]="option.label" src="assets/showcase/images/demo/avatar/{{option.image}}" width="32" style="vertical-align: middle" /> -->
                                        <!-- <span class="p-ml-1">{{option.name}}</span>
                                    </div>
                                </ng-template>
                            </p-multiSelect>
                        </ng-template>
                    </p-columnFilter>
                </div>
            </th> -->
             <!-- <th pSortableColumn="date">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Date
                    <p-sortIcon field="date"></p-sortIcon>
                    <p-columnFilter type="date" field="date" display="menu" class="p-ml-auto"></p-columnFilter>
                </div>
            </th>
            <th pSortableColumn="balance">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Balance
                    <p-sortIcon field="balance"></p-sortIcon>
                    <p-columnFilter type="numeric" field="balance" display="menu" currency="USD" class="p-ml-auto"></p-columnFilter>
                </div>
            </th>
            <th pSortableColumn="status">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Status
                    <p-sortIcon field="status"></p-sortIcon>
                    <p-columnFilter field="status" matchMode="equals" display="menu" class="p-ml-auto">
                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                            <p-dropdown [ngModel]="value" [options]="statuses" (onChange)="filter($event.value)" placeholder="Any">
                                <ng-template let-option pTemplate="item">
                                    <span [class]="'customer-badge status-' + option.value">{{option.label}}</span>
                                </ng-template>
                            </p-dropdown>
                        </ng-template>
                    </p-columnFilter>
                </div>
            </th>
            <th pSortableColumn="activity">
                <div class="p-d-flex p-jc-between p-ai-center">
                    Activity
                    <p-sortIcon field="activity"></p-sortIcon>
                    <p-columnFilter field="activity" matchMode="between" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false" class="p-ml-auto">
                        <ng-template pTemplate="filter" let-filter="filterCallback">
                            <p-slider [ngModel]="activityValues" [range]="true" (onSlideEnd)="filter($event.values)" styleClass="p-m-3"></p-slider>
                            <div class="p-d-flex p-ai-center p-jc-between p-px-2">
                                <span>{{activityValues[0]}}</span>
                                <span>{{activityValues[1]}}</span>
                            </div>
                        </ng-template>
                    </p-columnFilter>
                </div>
            </th> -->
            <!-- <th style="width: 8rem"></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer>
        <tr class="p-selectable-row"> -->
            <!-- <td>
                <p-tableCheckbox [value]="customer.selected"></p-tableCheckbox>
            </td> -->
            <!-- <td>
                <span class="p-column-title">Asset</span>
                {{customer.item.invNo}}
            </td>
            <td>
                <span class="p-column-title">SubNo</span>
                {{customer.item.subNo}}
            </td>
            <td>
                <span class="p-column-title">Name</span>
                {{customer.item.name}}
            </td>
            <td>
                <span class="p-column-title">Serie</span>
                {{customer.item.serialNumber}}
            </td> -->
             <!-- <td>
                <span class="p-column-title">Stare</span>
                <img src="assets/showcase/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + customer.item.invState.name" width="30">
                <span class="image-text">{{customer.item.invState.name}}</span>
            </td> -->
           <!-- <td>
                <span class="p-column-title">Stare</span> -->
                <!-- <img [alt]="customer.item.invState.name" src="assets/showcase/images/demo/avatar/{{customer.representative.image}}" width="32" style="vertical-align: middle" /> -->
                <!-- <span class="image-text">{{customer.item.invState.name}}</span>
            </td> -->
             <!--<td>
                <span class="p-column-title">Date</span>
                {{customer.date | date: 'MM/dd/yyyy'}}
            </td>
            <td>
                {{customer.balance | currency:'USD':'symbol'}}
            </td>
            <td>
                <span class="p-column-title">Status</span>
                <span [class]="'customer-badge status-' + customer.status">{{customer.status}}</span>
            </td>
            <td>
                <span class="p-column-title">Activity</span>
                <p-progressBar [value]="customer.activity" [showValue]="false"></p-progressBar>
            </td> -->
            <!-- <td style="text-align: center">
                <button pButton type="button" class="p-button-secondary" icon="pi pi-cog"></button>
            </td> -->
        <!-- </tr>
    </ng-template>
    <ng-template pTemplate="footer">
        <tr>
            <td colspan="3" class="p-text-right">Totals</td>
            <td>{{totals?.valueInvIn | number : '1.2-2' }}</td>
            <td>{{totals?.valueInvIn | number : '1.2-2' }}</td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="8">Nu au fost gasite asseturi.</td>
        </tr>
    </ng-template>
</p-table> -->





<div class="animated fadeIn">
<div class="row">
     <div class="col-md-12">
    <div class="card border-0">
        <div class="card-header border-0" *ngIf="showSimpleSearch === 'true'">
            <!--<label class="col-sm-1 control-label">Cauta</label>-->
            <!-- <input type="text" class="form-control with-danger-addon" placeholder="Cauta..." [(ngModel)]="filterSearch" (change)="applySimpleSearchFilter(filterSearch)" /> -->
            <input type="text" class="form-control" placeholder="Search.." aria-label="Search.." aria-describedby="basic-addon2" [(ngModel)]="filterSearch" (change)="applySimpleSearchFilter(filterSearch)">
        </div>
        <div class="card-body table-responsive table w-auto small border-0">
            <table class="table table-bordered table-striped" style="white-space: nowrap; font-weight: 500" [style.font-size.px]="12">
                <thead class="thead" [style.backgroundColor] = "'rgb(52, 30, 22)'" [style.color] = "'burlywood'">
                    <tr>

                        <th>
                                <button *ngIf="!isAllChecked()" (click)="updateCheckState(true)" class="btn btn-success btn-sm" type="button" style="background-color: black"><i class="fa fa-check"></i></button>
                                <button *ngIf="isAllChecked()" (click)="updateCheckState(false)" class="btn btn-default btn-sm" type="button" style="background-color: aliceblue"><i class="fa fa-check"></i></button>
                        </th>
                        <!-- <th>
                            In transfer
                        </th>
                        <th>
                            Printat
                        </th>
                        <th>
                            Scanat
                        </th> -->
                        <th *ngFor="let column of columns" class="align-left">
                            <a (click)="applySort(((column.include && (column.include.length > 0)) ? column.include + '.' : '') + column.sortBy)">
                                <i *ngIf="sortColumn !== column.sortBy" class="fa fa-sort"></i>
                                <i *ngIf="((sortColumn === column.sortBy) && (sortDirection === 'asc'))" class="fa fa-sort-asc"></i>
                                <i *ngIf="((sortColumn === column.sortBy) && (sortDirection === 'desc'))" class="fa fa-sort-desc"></i>
                                <!-- {{ column.headerCode | translate }} -->
                                {{ column.headerCode }}
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let tableItem of tableItems" (click)="tableItem.selected ? unselectItem(tableItem.item) : selectItem(tableItem.item)"  [style.backgroundColor] = "tableItem.item.isLocked === true ? 'rgb(8, 105, 89, 41)' : 'rgb(255, 255, 255)'">
                        <!-- <td>
                            <div class="progress progress-xs">
                              <div  role="progressbar" style="width: 100%;"
                              [ngClass]="{
                                  'progress-bar bg-danger':  tableItem.item.invState != null && tableItem.item.invState.id === 16,
                                  'progress-bar bg-success' : tableItem.item.invState != null && tableItem.item.invState.id === 1,
                                  'progress-bar bg-info' : tableItem.item.invState != null && tableItem.item.invState.id === 20,
                                  'progress-bar bg-warning' : tableItem.item.invState != null && tableItem.item.invState.id === 15,
                                  'progress-bar bg-secondary' : tableItem.item.invState != null && tableItem.item.invState.id === 22,
                                  'progress-bar bg-dark' : tableItem.item.invState != null && tableItem.item.invState.id === 19,
                                  'progress-bar bg-primary' : tableItem.item.invState != null && tableItem.item.invState.id === 23
                              }" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                            </div>
                            </div>
                          </td> -->

                        <td><i *ngIf="tableItem.selected" class="fa fa-check"></i></td>
                        <!-- <td>
                            <div class="progress progress-xs">
                              <div  role="progressbar" style="width: 100%;"
                              [ngClass]="{
                                  'progress-bar bg-danger':  !tableItem.item.isInTransfer,
                                  'progress-bar bg-warning' : tableItem.item.isInTransfer,
                                  'progress-bar bg-primary' : tableItem.item.appState != null && tableItem.item.appState.id === 3
                              }" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">

                            </div>
                            </div>
                          </td>
                          <td>
                            <div class="progress progress-xs">
                              <div  role="progressbar" style="width: 100%;"
                              [ngClass]="{
                                  'progress-bar bg-danger':  !tableItem.item.isPrinted,
                                  'progress-bar bg-success' : tableItem.item.isPrinted,
                                  'progress-bar bg-warning' : tableItem.item.appState != null && tableItem.item.appState.id === 36
                              }" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">

                            </div>
                            </div>
                          </td>
                          <td>
                            <div class="progress progress-xs">
                              <div  role="progressbar" style="width: 100%;"
                              [ngClass]="{
                                  'progress-bar bg-danger':  !tableItem.item.isDuplicate,
                                  'progress-bar bg-success' : tableItem.item.isDuplicate
                              }" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">

                            </div>
                            </div>
                          </td> -->
                        <td *ngFor="let column of columns" [style.text-align]="column.textAlign" [style.color]="tableItem.item.isLocked === true ? 'rgb(255,255,255)' : 'rgb(0, 0, 0)'">{{ tableItem.item | fieldByColumnDefinition: column }}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>Total valori</tr>
                    <tr>
                      <td><span style="color: blue">APC FY start</span></td>
                      <td><span style="color: blue">{{ totals?.apcfyStart | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: slateblue">Dep, FY start</span></td>
                      <td><span style="color: slateblue">{{ totals?.depFYStart | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: goldenrod">Bk,val,FY strt</span></td>
                      <td><span style="color: goldenrod">{{ totals?.bkValFYStart | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: fuchsia">Acquisition</span></td>
                      <td><span style="color: fuchsia">{{ totals?.acquisition | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: darkmagenta">Dep, for year</span></td>
                      <td><span style="color: darkmagenta">{{ totals?.depForYear | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: coral">Retirement</span></td>
                      <td><span style="color: coral">{{ totals?.retirement | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: blueviolet">Dep,retir</span></td>
                      <td><span style="color: blueviolet">{{ totals?.depRetirement | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: orange">Curr bk val</span></td>
                      <td><span style="color: orange">{{ totals?.currBkValue | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: red">Current APC</span></td>
                      <td><span style="color: red">{{ totals?.currentAPC | number : '1.2-2' }} RON</span></td>
                      <td><span style="color: blue">Accumul, dep</span></td>
                      <td><span style="color: blue">{{ totals?.accumulDep | number : '1.2-2' }} RON</span></td>
                    </tr>
                  </tfoot>
            </table>
            <nav>
                <div class="row">
                    <div class="col-xs-12 col-12 col-md-6">
                        <pagination
                        [totalItems]="totalItems"
                        [(ngModel)]="currentPage"
                        [maxSize]="maxSize"
                        class="pagination-sm"
                        [itemsPerPage]="pageSize"
                        previousText="&lsaquo;"
                        nextText="&rsaquo;"
                        firstText="&laquo;"
                        lastText="&raquo;"
                        (pageChanged)="pageChanged($event)"
                        [boundaryLinks]="true"
                        [rotate]="false"
                        (numPages)="numPages = $event">
                    </pagination>
                </div>
                <!-- <pre class="card card-body card-header">Page: {{currentPage}} / {{numPages}}</pre> -->
                <div class="col-xs-12 col-12 col-md-6">
                    <h6 style="text-align: right;">Total: {{ totalItems }}</h6>
                </div>
                </div>
            </nav>
        </div>
    </div>
 </div>
</div>
</div>

<!-- <ag-grid-angular
    style="width: 500px; height: 150px;"
    class="ag-theme-alpine"
    [rowData]="rowData"
    [columnDefs]="columnDefs">
</ag-grid-angular> -->

<!-- <div id="myGrid" style="height: 150px; width: 600px" class="ag-theme-alpine"></div> -->
<!-- <div class="row">
<div class="col-sm-12">
    <div class="ui-toolbar-group-left">
        <div class="text-left">
            <pagination *ngIf="usePaging" [totalItems]="totalItems" [(ngModel)]="currentPage" [itemsPerPage]="pageSize" [maxSize]="maxSize" class="pagination-sm"
                        [boundaryLinks]="true" [rotate]="false" (pageChanged)="pageChanged($event)"
                        previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"></pagination>
        </div>
    </div>
</div>
</div> -->

<!-- <div class="row" *ngIf="totals != null"> -->
<!-- <div class="col-sm-3">
    <h5 class="panel-subtitle">Valoare intrare: {{ totals.valueDepPU | number : '1.2-2' }}</h5>
</div>
<div class="col-sm-3">
    <h5 class="panel-subtitle">Valoare inventar: {{ totals.valueInv | number : '1.2-2' }}</h5>
</div> -->
<!-- <div class="col-sm-2">
    <h5 class="panel-subtitle">{{'ASSET_VALUE_REMAINING' | translate}}: {{ totals.valueRem | number : '1.2-2' }}</h5>
</div> -->
<!-- <div class="col-sm-3">
    <h5 class="panel-subtitle">{{'ASSET_ACCUMULATED_DEPRECATION' | translate}}: {{ (totals.valueDepYTD) | number : '1.2-2' }}</h5>
</div>
<div class="col-sm-3">
    <h5 class="panel-subtitle">{{'ASSET_DEPRECATION_MONTH' | translate}}: {{ totals.valueDep | number : '1.2-2' }}</h5>
</div> -->
<!-- <div class="col-sm-2">
    <h5 class="panel-subtitle">{{'ASSET_DEPRECATION_YEAR' | translate}}: {{ totals.valueDepYTD | number : '1.2-2' }}</h5>
</div> -->
<!-- <div class="col-sm-2">
    <h5 class="panel-subtitle">Total: {{ totals.count }}</h5>
</div>
</div> -->
